<!DOCTYPE html>
<html lang="en">
<head>
	<title>Night Watch</title>
	<meta name="title" content="Pizza Emoji - A small pictorial symbol that represents a slice of delicious baked dough with tomato sauce, cheese, and various toppings." />
	<meta name="description" content="The best website named Pizza Emoji" />
	<meta name="keywords" content="pizza emoji, pizzaemoji.net, slice, night watch" />
	<meta name="author" content="Brandon Butler" />
	<meta name="pronouns" content="he/him" />
	<meta name="theme-color" content="#222222" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name='robots' content='max-image-preview:large' />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta charset="UTF-8" />
	<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
	<link rel="shortcut icon" type="image/x-icon" href="/favicon/favicon.ico">
	<link rel="icon" type="image/x-icon" sizes="48x48" href="/favicon/favicon.ico">
	<link rel="icon" type="image/png" sizes="512x512" href="/favicon/favicon-512.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
	<link rel="manifest" href="/favicon/site.webmanifest">
	<style>
	html, body {
		font-family: -apple-system, BlinkMacSystemFont, sans-serif;
		font-size: 100%;
		height: 100%;
		background: #222222;
		color: #ffffff;
	}
	/* Main div that displays the random background colors */
	#colorDiv {
		height: 100%;
		width: 100%;
		transition: background-color 0.1s linear;
		position: relative;
	}
	/* Overlay layer with 80% black opacity to reduce brightness */
	.overlay {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: rgba(0, 0, 0, 0.8);
		pointer-events: none;
	}
	/* Container for the warning message and button */
	#warningContainer {
		position: absolute;
	/* Width and font-size in @media */
		top: 40%;
		left: 50%;
		transform: translate(-50%, -50%);
		text-align: center;
		z-index: 9999; /* Ensure the warning container appears above everything else */
	}
	/* Red rounded box for the warning message */
	#warningBox {
		border: 2px solid #ff0000;
		border-radius: 10px;
		padding: 20px;
	}
	/* "Start Night Watch" link */
	a {
		text-decoration: none;
	}
	a:link {
		text-decoration: none;
		color: #ffffff;
		border-bottom: 2px solid #ffffff;
	}
	a:visited {
		text-decoration: none;
		color: #ffffff;
		border-bottom: 2px solid #ffffff;
	}
	a:hover {
		text-decoration: none;
		color: #ffffff;
		border-bottom: 4px solid #ffffff;
	}
	/* Desktop */
	@media (min-width: 800px) {
		#warningContainer {
			font-size: 100%;
			width: 30%;
		}
	}
	/* Mobile */
	@media (max-width: 799px) {
		#warningContainer {
			font-size: 120%;
			width: 80%;
		}
	}
	</style>
</head>
<body>

	<!-- Warning container displayed before JavaScript starts running -->
	<div id="warningContainer">
		<div id="warningBox">
		Night Watch displays flashing colors is not recommended for individuals who are photosensitive or prone to seizers.
		<p><a id="startButton" href="#">Start Night Watch</a></p>
		</div>
	</div>

	<!-- Main div that will display the random background colors -->
	<div id="colorDiv">
	<div class="overlay"></div>
	</div>

	<script>
	// Flag to control the color cycling, initially false so it doesn't run until button is clicked
	let isNightWatchActive = false;
    
	// Function to start the random color cycle
	function startColorCycle() {
		// Set flag to true to indicate the cycle is active
		isNightWatchActive = true;
		// Generate a random interval between 0.3 and 3 seconds
		const randomDuration = Math.random() * (3 - 0.3) + 0.3;
		// Generate a random RGB color
		const randomColor = `rgb(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)})`;
      
      setTimeout(() => {
        // Change the background color of the main div to the random color
        document.getElementById('colorDiv').style.backgroundColor = randomColor;
        // Continue the color cycle if active
        if (isNightWatchActive) {
          startColorCycle();
        }
      }, randomDuration * 1000);
    }
    
    // Event listener for the "Start Night Watch" button
    document.getElementById('startButton').addEventListener('click', function(e) {
      e.preventDefault(); // Prevent default link behavior
      // Hide the warning container once the button is clicked
      document.getElementById('warningContainer').style.display = 'none';
      // Start the random color cycle
      startColorCycle();
    });
  </script>
</body>
</html>